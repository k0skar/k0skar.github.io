(this["webpackJsonpproduct-list"]=this["webpackJsonpproduct-list"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-add.8e2e6020.png"},29:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-remove.c226c095.png"},30:function(e,t,a){e.exports=a.p+"static/media/shopping-cart.f031a3bc.png"},32:function(e,t,a){e.exports=a(46)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(31),i=a(14),s=a(8),o=a(11),l=a(27),u=a(12),m=a(5),d={cart:{},products:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RES_PRODUCTS":return Object(m.a)({},e,{products:t.products});case"ADD_ONE_TO_CART":var a=e.cart[t.id];return!e.cart.hasOwnProperty(t.id)&&(a=0),Object(m.a)({},e,{cart:Object(m.a)({},e.cart,Object(u.a)({},t.id,++a))});case"REMOVE_ONE_FROM_CART":if(!e.cart.hasOwnProperty(t.id))return Object(m.a)({},{},{},e);var r=e.cart[t.id];return r<=1?Object(m.a)({},{},{},e):Object(m.a)({},e,{cart:Object(m.a)({},e.cart,Object(u.a)({},t.id,r&&--r))});case"REMOVE_ITEM_FROM_CART":var n=Object(m.a)({},e,{cart:Object(m.a)({},e.cart)});return delete n.cart[t.id],n;default:return e}},E=(a(41),a(15)),v=a(16),f=a(18),O=a(17),h=a(19),C=(a(42),a(43),a(28)),b=a.n(C),j=function(e){var t=e.item,a=e.onAddCartClick;e.isInCart;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"product-list-item"},n.a.createElement("div",{className:"product-title"},t.title),n.a.createElement("div",{className:"product-description"},t.description),n.a.createElement("div",{className:"product-price"},t.price.toFixed(2)),n.a.createElement("div",{className:"cart-image",onClick:function(e){return a(t.id)}},n.a.createElement("span",{className:"vertically-center"}),n.a.createElement("img",{alt:"Cart",src:b.a})),n.a.createElement("div",{className:"product-image"},n.a.createElement("span",{className:"vertically-center"}),n.a.createElement("img",{alt:"Product",src:t.image}))),n.a.createElement("hr",{className:"list-line-divider"}))},N=function(e){return{type:"ADD_ONE_TO_CART",id:e}},g=function(e){function t(){return Object(E.a)(this,t),Object(f.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.reqProducts()}},{key:"getProductsList",value:function(e){var t=this;return e.map((function(e){return n.a.createElement(j,{key:e.id,item:e,onAddCartClick:t.props.addToCart})}))}},{key:"render",value:function(){var e=this.props.products;return n.a.createElement("main",{className:"product-list"},e?this.getProductsList(e):n.a.createElement("div",null,"Loading. Wait, please!"))}}]),t}(n.a.Component),k={reqProducts:function(){return{type:"REQ_PRODUCTS"}},addToCart:N},y=Object(o.b)((function(e){return{products:e.products}}),k)(g),R=(a(44),a(29)),_=a.n(R),w=function(e){var t=e.id,a=e.count,r=e.onDecrement,c=e.onIncrement;return n.a.createElement("div",{className:"cart-item-counter"},n.a.createElement("div",{className:"counter-dec",onClick:function(){return r(t)}},"-"),n.a.createElement("div",{className:"counter-count"},a),n.a.createElement("div",{className:"counter-inc",onClick:function(){return c(t)}},"+"))},T=function(e){var t=e.item,a=e.onRemoveClick,c=e.count,i=e.onDecrement,s=e.onIncrement;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"cart-list-item"},n.a.createElement("div",{className:"cart-item-title"},t.title),n.a.createElement("div",{className:"cart-price"},t.price.toFixed(2)),n.a.createElement(w,{id:t.id,count:c,onDecrement:i,onIncrement:s}),n.a.createElement("div",{className:"remove-image",onClick:function(e){return a(t.id)}},n.a.createElement("span",{className:"vertically-center"}),n.a.createElement("img",{alt:"Cart",src:_.a}))),n.a.createElement("hr",{className:"list-line-divider"}))},A={removeItem:function(e){return{type:"REMOVE_ITEM_FROM_CART",id:e}},removeOne:function(e){return{type:"REMOVE_ONE_FROM_CART",id:e}},addOne:N},I=Object(o.b)((function(e){return{cartItems:e.cart,products:e.products}}),A)((function(e){var t=e.cartItems,a=e.products,r=e.handleClose,c=e.removeItem,i=e.removeOne,s=e.addOne,o=Object.entries(t).length?function(e,t){var a=[];function r(e){return t.find((function(t){return t.id===parseInt(e)}))}for(var o in e)a.push(n.a.createElement(T,{key:o,item:r(o),count:e[o],onRemoveClick:c,onDecrement:i,onIncrement:s}));return a}(t,a):n.a.createElement("div",{className:"empty-cart-message"},"Your cart is empty!");return n.a.createElement("div",{className:"modal display-block"},n.a.createElement("div",{className:"cart-container"},n.a.createElement("header",null,n.a.createElement("h4",null,"Shopping cart")),n.a.createElement("section",{className:"cart-list"},o),n.a.createElement("footer",null,n.a.createElement("button",{onClick:r},"close"))))})),x=a(30),D=a.n(x),P=function(e){function t(){var e,a;Object(E.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(n)))).state={showCart:!1},a.showCart=function(){a.setState({showCart:!0})},a.hideCart=function(){a.setState({showCart:!1})},a}return Object(h.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"main-header"},n.a.createElement("h2",null,"Product list"),n.a.createElement("input",{type:"image",src:D.a,alt:"Open Cart",onClick:this.showCart,className:"button-cart"})),n.a.createElement(y,{onAddCartClick:this.handleAddCartItem}),this.state.showCart?n.a.createElement(I,{handleClose:this.hideCart}):"")}}]),t}(n.a.Component),M=a(10),S=a.n(M),F=a(20),U=S.a.mark(q),V=S.a.mark(J),L=S.a.mark(Q);function q(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://json-server-k.herokuapp.com/products").then((function(e){return e.json()}));case 2:return e=t.sent,t.next=5,Object(F.b)({type:"RES_PRODUCTS",products:e});case 5:case"end":return t.stop()}}),U)}function J(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.c)("REQ_PRODUCTS",q);case 2:case"end":return e.stop()}}),V)}function Q(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([J()]);case 2:case"end":return e.stop()}}),L)}var B=Object(c.a)(),W=Object(s.d)(p,{products:[],cart:{}},Object(s.a)(B,l.logger));B.run(Q),Object(i.render)(n.a.createElement(o.a,{store:W},n.a.createElement(P,null),","),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.eebeda8d.chunk.js.map