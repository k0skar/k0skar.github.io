{"version":3,"sources":["icons/shopping-cart-add.png","icons/shopping-cart-remove.png","icons/shopping-cart.png","reducers.js","components/ProductList/ListItem/ListItem.js","actions.js","components/ProductList/ProductList.js","components/Cart/CartItem/Counter.js","components/Cart/CartItem/CartItem.js","components/Cart/Cart.js","components/App/App.js","sagas.js","index.js"],"names":["module","exports","defaultState","cart","products","reducer","state","action","type","count","id","hasOwnProperty","newState","ListItem","item","onAddCartClick","isInCart","className","title","description","price","toFixed","onClick","e","alt","src","icon_add","image","addOneToCart","ProductList","this","props","reqProducts","list","map","key","addToCart","getProductsList","React","Component","mapDispatchToProps","connect","Counter","onDecrement","onIncrement","CartItem","onRemoveClick","icon_remove","removeItem","removeOne","addOne","cartItems","handleClose","cartContent","Object","entries","length","itemArray","findItem","find","i","parseInt","push","App","showCart","setState","hideCart","icon_cart","handleAddCartItem","fetchNews","actionWatcher","rootSaga","fetch","then","response","json","put","takeLatest","all","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","logger","run","render","document","getElementById"],"mappings":"sGAAAA,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,2C,yOCArCC,EAAe,CACjBC,KAAM,GACNC,SAAU,IA+DCC,EA5DC,WAAmC,IAAlCC,EAAiC,uDAAzBJ,EAAcK,EAAW,uCAC9C,OAAQA,EAAOC,MACX,IAAK,eACD,OAAO,eACAF,EADP,CAEIF,SAAUG,EAAOH,WAEzB,IAAK,kBACD,IAAIK,EAAQH,EAAMH,KAAKI,EAAOG,IAG9B,OAFEJ,EAAMH,KAAKQ,eAAeJ,EAAOG,MAASD,EAAQ,GAE7C,eACAH,EADP,CAEIH,KAAK,eACEG,EAAMH,KADT,eAECI,EAAOG,KAAOD,MAI3B,IAAK,uBAED,IAAKH,EAAMH,KAAKQ,eAAeJ,EAAOG,IAElC,OAAO,eAAK,GAAZ,GAAmBJ,GAGvB,IAAIG,EAAQH,EAAMH,KAAKI,EAAOG,IAC9B,OAAID,GAAS,EACF,eAAK,GAAZ,GAAmBH,GAGhB,eACAA,EADP,CAEIH,KAAK,eACEG,EAAMH,KADT,eAECI,EAAOG,GAAKD,KAAWA,MAKpC,IAAK,wBACD,IAAMG,EAAQ,eACPN,EADO,CAEVH,KAAK,eACEG,EAAMH,QAMjB,cAFOS,EAAST,KAAKI,EAAOG,IAErBE,EAKX,QACI,OAAON,I,+EC1CJO,EAhBE,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,eAA8B,EAAdC,SAEvC,OACE,kBAAC,WAAD,KACA,yBAAKC,UAAU,qBACb,yBAAKA,UAAU,iBAAiBH,EAAKI,OACrC,yBAAKD,UAAU,uBAAuBH,EAAKK,aAC3C,yBAAKF,UAAU,iBAAkBH,EAAKM,MAAOC,QAAQ,IACrD,yBAAKJ,UAAU,aAAaK,QAAS,SAACC,GAAD,OAAOR,EAAeD,EAAKJ,MAAK,0BAAMO,UAAU,sBAAsB,yBAAKO,IAAI,OAAOC,IAAKC,OAChI,yBAAKT,UAAU,iBAAgB,0BAAMA,UAAU,sBAAsB,yBAAKO,IAAI,UAAUC,IAAKX,EAAKa,UAEpG,wBAAIV,UAAW,wBCXNW,EAAe,SAAClB,GAAD,MAAS,CACjCF,KAAM,kBACNE,GAAIA,ICCFmB,E,4LAGEC,KAAKC,MAAMC,gB,sCAGCC,GAAO,IAAD,OAElB,OAAOA,EAAKC,KAAI,SAACpB,GAAD,OACZ,kBAAC,EAAD,CAAUqB,IAAKrB,EAAKJ,GAAII,KAAMA,EAAMC,eAAgB,EAAKgB,MAAMK,iB,+BAKnE,IAAMH,EAAOH,KAAKC,MAAM3B,SACxB,OAAO,0BAAMa,UAAU,gBAClBgB,EAAOH,KAAKO,gBAAgBJ,GAAQ,4D,GAhBvBK,IAAMC,WAqB1BC,EAAqB,CACvBR,YD5BuB,iBAAO,CAC9BxB,KAAM,iBC4BN4B,UAAWR,GAOAa,eAJS,SAACnC,GAAD,MAAY,CAChCF,SAAUE,EAAMF,YAGoBoC,EAAzBC,CAA6CZ,G,yBCvB7Ca,EAXC,SAAC,GAA4C,IAA3ChC,EAA0C,EAA1CA,GAAID,EAAsC,EAAtCA,MAAOkC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,YAExC,OACE,yBAAK3B,UAAU,qBACb,yBAAKA,UAAU,cAAcK,QAAS,kBAAMqB,EAAYjC,KAAxD,KACA,yBAAKO,UAAU,iBAAiBR,GAChC,yBAAKQ,UAAU,cAAcK,QAAS,kBAAMsB,EAAYlC,KAAxD,OCgBSmC,EApBE,SAAC,GAA8D,IAA5D/B,EAA2D,EAA3DA,KAAMgC,EAAqD,EAArDA,cAAerC,EAAsC,EAAtCA,MAAOkC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,YAE3D,OACE,kBAAC,WAAD,KACA,yBAAK3B,UAAU,kBACb,yBAAKA,UAAU,mBAAmBH,EAAKI,OACvC,yBAAKD,UAAU,cAAeH,EAAKM,MAAOC,QAAQ,IAClD,kBAAC,EAAD,CACEX,GAAII,EAAKJ,GACTD,MAAOA,EACPkC,YAAaA,EACbC,YAAaA,IAEf,yBAAK3B,UAAU,eAAeK,QAAS,SAACC,GAAD,OAAOuB,EAAchC,EAAKJ,MAAK,0BAAMO,UAAU,sBAAsB,yBAAKO,IAAI,OAAOC,IAAKsB,QAEnI,wBAAI9B,UAAW,wBC8BbuB,EAAqB,CACvBQ,WJvC8B,SAACtC,GAAD,MAAS,CACvCF,KAAM,wBACNE,GAAIA,IIsCJuC,UJ5C6B,SAACvC,GAAD,MAAS,CACtCF,KAAM,uBACNE,GAAIA,II2CJwC,OAAQtB,GAQGa,eALS,SAACnC,GAAD,MAAY,CAChC6C,UAAW7C,EAAMH,KACjBC,SAAUE,EAAMF,YAGoBoC,EAAzBC,EAtDF,SAAC,GAAyE,IAAvEU,EAAsE,EAAtEA,UAAW/C,EAA2D,EAA3DA,SAAUgD,EAAiD,EAAjDA,YAAaJ,EAAoC,EAApCA,WAAYC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,OAsB/DG,EAAeC,OAAOC,QAAQJ,GAAWK,OApBvB,SAACrD,EAAMC,GAC3B,IAAMqD,EAAY,GAElB,SAASC,EAAShD,GACd,OAAON,EAASuD,MAAK,SAACC,GAAD,OAAOA,EAAElD,KAAOmD,SAASnD,MAGlD,IAAK,IAAMA,KAAMP,EACbsD,EAAUK,KAAK,kBAAC,EAAD,CACX3B,IAAKzB,EACLI,KAAM4C,EAAShD,GACfD,MAAON,EAAKO,GACZoC,cAAeE,EACfL,YAAaM,EACbL,YAAaM,KAGrB,OAAOO,EAILpB,CAAgBc,EAAW/C,GAC3B,yBAAKa,UAAY,sBAAjB,uBAEN,OACI,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,kBACX,gCACI,8CAEJ,6BAASA,UAAU,aACdoC,GAEL,gCACI,4BAAQ/B,QAAS8B,GAAjB,e,iBCDLW,E,2MAjCbzD,MAAQ,CACN0D,UAAU,G,EAIZA,SAAW,WACT,EAAKC,SAAS,CAAED,UAAU,K,EAG5BE,SAAW,WACT,EAAKD,SAAS,CAAED,UAAU,K,wEAI1B,OAAO,yBAAK/C,UAAU,OACpB,4BAAQA,UAAU,eAChB,4CAGA,2BACET,KAAK,QACLiB,IAAK0C,IACL3C,IAAI,YACJF,QAASQ,KAAKkC,SACd/C,UAAY,iBAGhB,kBAAC,EAAD,CAAaF,eAAgBe,KAAKsC,oBACjCtC,KAAKxB,MAAM0D,SAAW,kBAAC,EAAD,CAAMZ,YAAatB,KAAKoC,WAAe,Q,GA9BlD5B,IAAMC,W,oCCJd8B,G,WAKAC,G,WAGeC,GARzB,SAAUF,IAAV,uEACiB,OADjB,SACuBG,MAAM,gDACpBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAFnC,OAGI,OAFMA,EADV,gBAGUC,YAAI,CAAEpE,KAAM,eAAgBJ,SAAUuE,IAHhD,uCAKA,SAAUL,IAAV,iEACI,OADJ,SACUO,YAAW,eAAgBR,GADrC,uCAGe,SAAUE,IAAV,iEACX,OADW,SACLO,YAAI,CACNR,MAFO,uCCCf,IAAMS,EAAiBC,cAEjBC,EAAQC,YACV7E,EACA,CACID,SAAU,GACVD,KAAM,IAEVgF,YAAgBJ,EAAgBK,WAGpCL,EAAeM,IAAId,GAEnBe,iBACI,kBAAC,IAAD,CAAUL,MAAOA,GACb,kBAAC,EAAD,MADJ,KAGAM,SAASC,eAAe,W","file":"static/js/main.eebeda8d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-add.8e2e6020.png\";","module.exports = __webpack_public_path__ + \"static/media/shopping-cart-remove.c226c095.png\";","module.exports = __webpack_public_path__ + \"static/media/shopping-cart.f031a3bc.png\";","const defaultState = {\r\n    cart: {},\r\n    products: [],\r\n}\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'RES_PRODUCTS':\r\n            return {\r\n                ...state,\r\n                products: action.products\r\n            }\r\n        case 'ADD_ONE_TO_CART':\r\n            let count = state.cart[action.id];\r\n            !(state.cart.hasOwnProperty(action.id)) && (count = 0);\r\n\r\n            return {\r\n                ...state,\r\n                cart: {\r\n                    ...state.cart,\r\n                    [action.id]: ++count\r\n                }\r\n            }\r\n\r\n        case 'REMOVE_ONE_FROM_CART': {\r\n\r\n            if (!state.cart.hasOwnProperty(action.id)) {\r\n\r\n                return { ...{}, ...state }\r\n            }\r\n\r\n            let count = state.cart[action.id];\r\n            if (count <= 1) {\r\n                return { ...{}, ...state }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                cart: {\r\n                    ...state.cart,\r\n                    [action.id]: count && --count\r\n                }\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_ITEM_FROM_CART': {\r\n            const newState = {\r\n                ...state,\r\n                cart: {\r\n                    ...state.cart,\r\n                }\r\n            };\r\n\r\n            delete newState.cart[action.id];\r\n\r\n            return newState\r\n        }\r\n\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;\r\n","import React, { Fragment } from 'react';\r\nimport icon_add from '../../../icons/shopping-cart-add.png'\r\n\r\nconst ListItem = ({item, onAddCartClick, isInCart}) => {\r\n\r\n  return (\r\n    <Fragment>\r\n    <div className=\"product-list-item\">\r\n      <div className=\"product-title\">{item.title}</div>\r\n      <div className=\"product-description\">{item.description}</div>\r\n      <div className=\"product-price\">{(item.price).toFixed(2)}</div>\r\n      <div className=\"cart-image\" onClick={(e) => onAddCartClick(item.id)}><span className='vertically-center' /><img alt='Cart' src={icon_add} /></div>\r\n      <div className=\"product-image\"><span className='vertically-center' /><img alt='Product' src={item.image} /></div>\r\n    </div>\r\n    <hr className= 'list-line-divider'/>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default ListItem;\r\n","export const reqProducts = () => ({\r\n    type: 'REQ_PRODUCTS',\r\n});\r\nexport const addOneToCart = (id) => ({\r\n    type: 'ADD_ONE_TO_CART',\r\n    id: id\r\n});\r\nexport const removeOneFromCart = (id) => ({\r\n    type: 'REMOVE_ONE_FROM_CART',\r\n    id: id\r\n});\r\nexport const removeItemFromCart = (id) => ({\r\n    type: 'REMOVE_ITEM_FROM_CART',\r\n    id: id\r\n});\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './ProductList.css';\r\nimport ListItem from './ListItem/ListItem'\r\nimport { reqProducts, addOneToCart } from '../../actions';\r\n\r\nclass ProductList extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.reqProducts();\r\n    }\r\n\r\n    getProductsList(list) {\r\n\r\n        return list.map((item) => (\r\n            <ListItem key={item.id} item={item} onAddCartClick={this.props.addToCart} />\r\n        ))\r\n    }\r\n\r\n    render() {\r\n        const list = this.props.products;\r\n        return <main className=\"product-list\">\r\n            {list ? this.getProductsList(list) : <div>Loading. Wait, please!</div>}\r\n        </main>\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    reqProducts: reqProducts,\r\n    addToCart: addOneToCart,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    products: state.products,\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList)\r\n","import React from 'react';\r\n\r\nconst Counter = ({id, count, onDecrement, onIncrement }) => {\r\n\r\n  return (\r\n    <div className=\"cart-item-counter\">\r\n      <div className=\"counter-dec\" onClick={() => onDecrement(id)}>-</div>\r\n      <div className=\"counter-count\">{count}</div>\r\n      <div className=\"counter-inc\" onClick={() => onIncrement(id)}>+</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Counter;","import React, { Fragment } from 'react';\r\nimport icon_remove from '../../../icons/shopping-cart-remove.png';\r\nimport Counter from './Counter';\r\n\r\nconst CartItem = ({ item, onRemoveClick, count, onDecrement, onIncrement }) => {\r\n  \r\n  return (\r\n    <Fragment>\r\n    <div className=\"cart-list-item\">\r\n      <div className=\"cart-item-title\">{item.title}</div>\r\n      <div className=\"cart-price\">{(item.price).toFixed(2)}</div>\r\n      <Counter\r\n        id={item.id}\r\n        count={count}\r\n        onDecrement={onDecrement}\r\n        onIncrement={onIncrement}\r\n      />\r\n      <div className=\"remove-image\" onClick={(e) => onRemoveClick(item.id)}><span className='vertically-center' /><img alt='Cart' src={icon_remove} /></div>\r\n    </div>    \r\n    <hr className= 'list-line-divider'/>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\nimport './Cart.css';\r\nimport CartItem from './CartItem/CartItem'\r\nimport { connect } from 'react-redux'\r\nimport { removeItemFromCart, removeOneFromCart, addOneToCart } from '../../actions';\r\n\r\nconst Cart = ({ cartItems, products, handleClose, removeItem, removeOne, addOne }) => {\r\n\r\n    const getProductsList = (cart, products) => {\r\n        const itemArray = [];\r\n\r\n        function findItem(id) {\r\n            return products.find((i) => i.id === parseInt(id))\r\n        }\r\n\r\n        for (const id in cart) {\r\n            itemArray.push(<CartItem\r\n                key={id}\r\n                item={findItem(id)}\r\n                count={cart[id]}\r\n                onRemoveClick={removeItem}\r\n                onDecrement={removeOne}\r\n                onIncrement={addOne} />)\r\n        }\r\n\r\n        return itemArray\r\n    }\r\n\r\n    const cartContent = (Object.entries(cartItems).length)\r\n        ? getProductsList(cartItems, products)\r\n        : <div className = 'empty-cart-message'>Your cart is empty!</div>\r\n\r\n    return (\r\n        <div className='modal display-block'>\r\n            <div className='cart-container'>\r\n                <header>\r\n                    <h4>Shopping cart</h4>\r\n                </header>\r\n                <section className='cart-list'>\r\n                    {cartContent}\r\n                </section>\r\n                <footer>\r\n                    <button onClick={handleClose}>close</button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    removeItem: removeItemFromCart,\r\n    removeOne: removeOneFromCart,\r\n    addOne: addOneToCart\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cartItems: state.cart,\r\n    products: state.products,\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)","import React from 'react';\nimport './App.css';\nimport ProductList from '../ProductList/ProductList';\nimport Cart from '../Cart/Cart';\nimport icon_cart from '../../icons/shopping-cart.png';\n\nclass App extends React.Component {\n\n  state = {\n    showCart: false,\n  };\n\n\n  showCart = () => {\n    this.setState({ showCart: true });\n  };\n\n  hideCart = () => {\n    this.setState({ showCart: false });\n  };\n\n  render() {\n    return <div className=\"App\">\n      <header className=\"main-header\">\n        <h2>\n          Product list\n        </h2>\n        <input\n          type=\"image\"\n          src={icon_cart}\n          alt='Open Cart'\n          onClick={this.showCart} \n          className = 'button-cart'/>\n      </header>\n\n      <ProductList onAddCartClick={this.handleAddCartItem}></ProductList>\n      {this.state.showCart ? <Cart handleClose={this.hideCart} /> : ''}\n    </div>\n  }\n}\n\nexport default App;\n","import { put, takeLatest, all } from 'redux-saga/effects';\r\n\r\nfunction* fetchNews() {\r\n    const json = yield fetch('https://json-server-k.herokuapp.com/products')\r\n        .then(response => response.json());\r\n    yield put({ type: \"RES_PRODUCTS\", products: json});\r\n}\r\nfunction* actionWatcher() {\r\n    yield takeLatest('REQ_PRODUCTS', fetchNews)\r\n}\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        actionWatcher(),\r\n    ]);\r\n}\r\n","import React from 'react';\nimport createSagaMiddleware from 'redux-saga';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { logger } from 'redux-logger';\nimport reducer from './reducers';\nimport './index.css';\nimport App from './components/App/App';\nimport rootSaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n    reducer, \n    {\n        products: [],\n        cart: {},\n    },\n    applyMiddleware(sagaMiddleware, logger),\n);\n\nsagaMiddleware.run(rootSaga);\n\nrender(\n    <Provider store={store}>\n        <App />,\n   </Provider>,\n    document.getElementById('root'),\n);\n\nif (module.hot) { module.hot.accept(App); }"],"sourceRoot":""}